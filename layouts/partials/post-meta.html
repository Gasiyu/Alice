{{- $metaItemTag := .metaItemTag | default "div" -}}
{{- $metaItemSep := .metaItemSep | default "" -}}

<div class="post-meta">
{{- if or .page.Date .page.Lastmod -}}
    {{- $dateFormat := default "2006-01-02" .Site.Params.dateFmt -}}
    {{- $postDate := .page.Date.Format $dateFormat -}}
    {{- $lastmodDate := .page.Lastmod.Format $dateFormat -}}
    {{- printf `<%s class="post-meta-item dates">` $metaItemTag | safeHTML -}}
        {{- with $postDate -}}
            <svg class="post-date-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 10H3M16 2V6M8 2V6M7.8 22H16.2C17.8802 22 18.7202 22 19.362 21.673C19.9265 21.3854 20.3854 20.9265 20.673 20.362C21 19.7202 21 18.8802 21 17.2V8.8C21 7.11984 21 6.27976 20.673 5.63803C20.3854 5.07354 19.9265 4.6146 19.362 4.32698C18.7202 4 17.8802 4 16.2 4H7.8C6.11984 4 5.27976 4 4.63803 4.32698C4.07354 4.6146 3.6146 5.07354 3.32698 5.63803C3 6.27976 3 7.11984 3 8.8V17.2C3 18.8802 3 19.7202 3.32698 20.362C3.6146 20.9265 4.07354 21.3854 4.63803 21.673C5.27976 22 6.11984 22 7.8 22Z"></path></svg>
            <b><time class="post-date">{{ . }}</time></b>
        {{- end -}}
        {{- with $lastmodDate -}}
            {{- if ne . $postDate -}}
                {{- with $metaItemSep -}}
                    <span>{{ . | safeHTML }}</span>
                {{- else -}}
                    &emsp;
                {{- end -}}
                <!-- <svg class="post-lastmod-date-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 8H3M16 2V5M8 2V5M7.8 22H16.2C17.8802 22 18.7202 22 19.362 21.673C19.9265 21.3854 20.3854 20.9265 20.673 20.362C21 19.7202 21 18.8802 21 17.2V8.8C21 7.11984 21 6.27976 20.673 5.63803C20.3854 5.07354 19.9265 4.6146 19.362 4.32698C18.7202 4 17.8802 4 16.2 4H7.8C6.11984 4 5.27976 4 4.63803 4.32698C4.07354 4.6146 3.6146 5.07354 3.32698 5.63803C3 6.27976 3 7.11984 3 8.8V17.2C3 18.8802 3 19.7202 3.32698 20.362C3.6146 20.9265 4.07354 21.3854 4.63803 21.673C5.27976 22 6.11984 22 7.8 22ZM11.9973 12.3306C11.1975 11.4216 9.8639 11.1771 8.86188 12.0094C7.85986 12.8418 7.71879 14.2335 8.50568 15.2179C9.077 15.9327 10.6593 17.3397 11.4833 18.0569C11.662 18.2124 11.7513 18.2902 11.856 18.321C11.9466 18.3477 12.0479 18.3477 12.1386 18.321C12.2432 18.2902 12.3325 18.2124 12.5112 18.0569C13.3353 17.3397 14.9175 15.9327 15.4888 15.2179C16.2757 14.2335 16.1519 12.8331 15.1326 12.0094C14.1134 11.1858 12.797 11.4216 11.9973 12.3306Z"></path></svg> -->
                <svg class="post-lastmod-date-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 11.5V8.8C21 7.11984 21 6.27976 20.673 5.63803C20.3854 5.07354 19.9265 4.6146 19.362 4.32698C18.7202 4 17.8802 4 16.2 4H7.8C6.11984 4 5.27976 4 4.63803 4.32698C4.07354 4.6146 3.6146 5.07354 3.32698 5.63803C3 6.27976 3 7.11984 3 8.8V17.2C3 18.8802 3 19.7202 3.32698 20.362C3.6146 20.9265 4.07354 21.3854 4.63803 21.673C5.27976 22 6.11984 22 7.8 22H12.5M21 10H3M16 2V6M8 2V6M18 21V15M15 18H21"></path></svg>
                <b><time class="lastmod-date">{{ . }}</time></b>
            {{- end -}}
        {{- end -}}
    {{- printf `</%s>` $metaItemTag | safeHTML -}}
{{- end -}}

{{- with .page.Params.categories -}}
    {{- with $metaItemSep -}}
        <span>{{ . | safeHTML }}</span>
    {{- end -}}
    {{- printf `<%s class="post-meta-item categories">` $metaItemTag | safeHTML -}}
        <svg class="post-categories-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 7L11.8845 4.76892C11.5634 4.1268 11.4029 3.80573 11.1634 3.57116C10.9516 3.36373 10.6963 3.20597 10.4161 3.10931C10.0992 3 9.74021 3 9.02229 3H5.2C4.0799 3 3.51984 3 3.09202 3.21799C2.71569 3.40973 2.40973 3.71569 2.21799 4.09202C2 4.51984 2 5.0799 2 6.2V7M2 7H17.2C18.8802 7 19.7202 7 20.362 7.32698C20.9265 7.6146 21.3854 8.07354 21.673 8.63803C22 9.27976 22 10.1198 22 11.8V16.2C22 17.8802 22 18.7202 21.673 19.362C21.3854 19.9265 20.9265 20.3854 20.362 20.673C19.7202 21 18.8802 21 17.2 21H6.8C5.11984 21 4.27976 21 3.63803 20.673C3.07354 20.3854 2.6146 19.9265 2.32698 19.362C2 18.7202 2 17.8802 2 16.2V7Z"></path></svg>
        {{- range $index, $cat := . -}}
            {{- if eq $index 0 }}&ensp;{{ else }}&emsp;{{ end -}}
            <a href="{{ "/categories/" | relLangURL }}{{ $cat | urlize }}">[{{ $cat }}]</a>
        {{- end -}}
    {{- printf `</%s>` $metaItemTag | safeHTML -}}
{{- end -}}

{{- with .page.Params.tags -}}
    {{- with $metaItemSep -}}
        <span>{{ . | safeHTML }}</span>
    {{- end -}}
    {{- printf `<%s class="post-meta-item tags">` $metaItemTag | safeHTML -}}
        <svg class="post-tags-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 8H8.01M2 5.2L2 9.67451C2 10.1637 2 10.4083 2.05526 10.6385C2.10425 10.8425 2.18506 11.0376 2.29472 11.2166C2.4184 11.4184 2.59135 11.5914 2.93726 11.9373L10.6059 19.6059C11.7939 20.7939 12.388 21.388 13.0729 21.6105C13.6755 21.8063 14.3245 21.8063 14.927 21.6105C15.612 21.388 16.2061 20.7939 17.3941 19.6059L19.6059 17.3941C20.7939 16.2061 21.388 15.612 21.6105 14.927C21.8063 14.3245 21.8063 13.6755 21.6105 13.0729C21.388 12.388 20.7939 11.7939 19.6059 10.6059L11.9373 2.93726C11.5914 2.59135 11.4184 2.4184 11.2166 2.29472C11.0376 2.18506 10.8425 2.10425 10.6385 2.05526C10.4083 2 10.1637 2 9.67452 2L5.2 2C4.0799 2 3.51984 2 3.09202 2.21799C2.7157 2.40973 2.40973 2.71569 2.21799 3.09202C2 3.51984 2 4.07989 2 5.2ZM8.5 8C8.5 8.27614 8.27614 8.5 8 8.5C7.72386 8.5 7.5 8.27614 7.5 8C7.5 7.72386 7.72386 7.5 8 7.5C8.27614 7.5 8.5 7.72386 8.5 8Z"></path></svg>
        {{- range $index, $tag := . -}}
            {{- if eq $index 0 }}&ensp;{{ else }}&emsp;{{ end -}}
            <a href="{{ "/tags/" | relLangURL }}{{ $tag | urlize }}">#{{ $tag }}</a>
        {{- end -}}
    {{- printf `</%s>` $metaItemTag | safeHTML -}}
{{- end -}}
</div>
